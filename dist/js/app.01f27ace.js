(function(){"use strict";var t={794:function(t,o,n){var r=n(9242),e=n(3396),i=n(7139);const c=(0,e._)("h1",{class:"main-title"},"Phone Store",-1),s={key:0,class:"order"},u={key:0,class:"order-form"},d={key:0},a=(0,e._)("h3",{class:"order-title"},"Positions:",-1),l={class:"order-pay"},p={key:1,class:"order-nothing"},f={class:"products"};function m(t,o,n,m,h,C){const g=(0,e.up)("cart-icon"),w=(0,e.up)("closeIcon"),v=(0,e.up)("order-actions"),I=(0,e.up)("product");return(0,e.wg)(),(0,e.iD)(e.HY,null,[c,(0,e.Wm)(g,{class:"cart-icon",onClick:o[0]||(o[0]=t=>h.isCartOpened=!h.isCartOpened)}),(0,e.Wm)(r.uT,{name:"fade"},{default:(0,e.w5)((()=>[h.isCartOpened?((0,e.wg)(),(0,e.iD)("div",s,[h.isCartOpened?((0,e.wg)(),(0,e.iD)("div",u,[(0,e.Wm)(w,{class:"order-close",onClick:o[1]||(o[1]=t=>h.isCartOpened=!h.isCartOpened)}),h.productsInCart.length>0?((0,e.wg)(),(0,e.iD)("div",d,[a,(0,e._)("ul",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(h.productsInCart,(t=>((0,e.wg)(),(0,e.iD)("li",{key:t,class:"order-position"},[(0,e.Uk)((0,i.zw)(t.name)+" "+(0,i.zw)(t.cost)+"$ ",1),(0,e.Wm)(v,{id:t.id,count:t.count,name:t.name,cost:parseInt(t.cost),onHandleCartAction:C.handleCartAction},null,8,["id","count","name","cost","onHandleCartAction"])])))),128))]),(0,e._)("button",l,"Pay: "+(0,i.zw)(this.sum)+"$",1)])):((0,e.wg)(),(0,e.iD)("div",p," Nothing to Buy!"))])):(0,e.kq)("",!0)])):(0,e.kq)("",!0)])),_:1}),(0,e._)("div",f,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(h.items,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"product-wrapper",key:t},[(0,e.Wm)(I,{item:t,onHandleCartAction:C.handleCartAction},null,8,["item","onHandleCartAction"])])))),128))])],64)}var h=n.p+"test-phones/dist/img/product-item.7fa23546.jpg";const C={class:"product"},g=(0,e._)("div",{class:"product-image-wrapper"},[(0,e._)("img",{src:h,alt:"Product Image"})],-1),w={class:"product-info-wrapper"},v={class:"product-title"},I={class:"product-description"},O={class:"product-cost"};function P(t,o,n,r,c,s){const u=(0,e.up)("order-actions");return(0,e.wg)(),(0,e.iD)("div",C,[g,(0,e._)("div",w,[(0,e._)("h3",v,(0,i.zw)(n.item.productName),1),(0,e._)("p",I,(0,i.zw)(n.item.productDescription),1),(0,e._)("div",O,(0,i.zw)(n.item.productCost)+" $",1),(0,e.Wm)(u,{id:n.item.id,count:n.item.count||0,name:n.item.productName,cost:parseInt(n.item.productCost),onHandleCartAction:s.handleCartAction},null,8,["id","count","name","cost","onHandleCartAction"])])])}const _={class:"order-actions"},k={class:"order-counter"};function y(t,o,n,r,c,s){return(0,e.wg)(),(0,e.iD)("div",_,[(0,e._)("button",{class:"order-add",onClick:o[0]||(o[0]=(...t)=>s.removeProduct&&s.removeProduct(...t))}," - "),(0,e._)("div",k,(0,i.zw)(c.counter),1),(0,e._)("button",{class:"order-delete",onClick:o[1]||(o[1]=(...t)=>s.addProduct&&s.addProduct(...t))}," + ")])}n(7658);function D(){return JSON.parse(localStorage.getItem("cart"))}function N({id:t,name:o,cost:n}){const r={id:t,name:o,cost:n,count:null},e=JSON.parse(localStorage.getItem("cart")),i=e.find((t=>t.id===r.id));if(i){i.count+=1;const t=e.indexOf(i);e[t]=i}else r.count=1,e.push(r);localStorage.setItem("cart",JSON.stringify(e))}function b({id:t}){const o=JSON.parse(localStorage.getItem("cart")),n=o.findIndex((o=>o.id===t));o[n].count--,o[n].count<=0&&o.splice(n,1),localStorage.setItem("cart",JSON.stringify(o))}function A(){JSON.parse(localStorage.getItem("cart"))||localStorage.setItem("cart",JSON.stringify([]))}var S={name:"orderActions",props:{count:Number,id:Number,name:String,cost:Number},watch:{count(t){this.counter=t}},data(){return{counter:this.count||0}},methods:{addProduct(){this.counter<99&&(N({id:this.id,name:this.name,cost:this.cost}),this.counter++,this.$emit("handleCartAction"))},removeProduct(){this.counter>0&&(this.counter--,b({id:this.id}),this.$emit("handleCartAction"))}}},x=n(89);const M=(0,x.Z)(S,[["render",y],["__scopeId","data-v-ecd4d7cc"]]);var W=M,H={name:"Product",emits:["handleCartAction"],components:{orderActions:W},props:{item:Object},methods:{handleCartAction(){this.$emit("handleCartAction")}}};const z=(0,x.Z)(H,[["render",P]]);var L=z;function j(){return[{productName:"IPhone XS Max",productDescription:"Wonderful solution for wonderful people",productCost:499,id:1},{productName:"IPhone XS ",productDescription:"Wonderful solution for wonderful people",productCost:399,id:2},{productName:"IPhone 13",productDescription:"Wonderful solution for wonderful people",productCost:699,id:3},{productName:"IPhone 13 Pro ",productDescription:"Wonderful solution for wonderful people",productCost:899,id:4},{productName:"IPhone 13 Pro Max",productDescription:"Wonderful solution for wonderful people",productCost:999,id:5},{productName:"IPhone 14",productDescription:"Wonderful solution for wonderful people",productCost:1099,id:6},{productName:"IPhone 14 Pro Max",productDescription:"Wonderful solution for wonderful people",productCost:1299,id:7},{productName:"IPhone 15 XS Max Pro",productDescription:"Wonderful solution for wonderful people",productCost:199,id:8}]}const J={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z=(0,e._)("path",{d:"M4.78571 5H18.2251C19.5903 5 20.5542 6.33739 20.1225 7.63246L18.4558 12.6325C18.1836 13.4491 17.4193 14 16.5585 14H6.07142M4.78571 5L4.74531 4.71716C4.60455 3.73186 3.76071 3 2.76541 3H2M4.78571 5L6.07142 14M6.07142 14L6.25469 15.2828C6.39545 16.2681 7.23929 17 8.23459 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM11 19C11 20.1046 10.1046 21 9 21C7.89543 21 7 20.1046 7 19C7 17.8954 7.89543 17 9 17C10.1046 17 11 17.8954 11 19Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),B=[Z];function $(t,o){return(0,e.wg)(),(0,e.iD)("svg",J,B)}const U={},T=(0,x.Z)(U,[["render",$]]);var X=T;const Y={fill:"#000000",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},q=(0,e._)("path",{d:"M29.484 0c-.13.004-.252.057-.343.15L17.164 12.13c-.49.47.235 1.197.706.707L29.846.857c.325-.318.1-.857-.363-.857zM12.488 17c-.13.004-.25.058-.34.15L.162 29.14c-.486.467.233 1.186.7.7L12.848 17.85c.325-.313.093-.85-.36-.85zM.5 0a.5.5 0 0 0-.348.86L29.14 29.845a.5.5 0 1 0 .706-.706L.86.152A.5.5 0 0 0 .5 0z"},null,-1),E=[q];function K(t,o){return(0,e.wg)(),(0,e.iD)("svg",Y,E)}const F={},G=(0,x.Z)(F,[["render",K]]);var Q=G,R={name:"App",data(){return{items:[],isCartOpened:!1,productsInCart:[],sum:0}},components:{product:L,orderActions:W,cartIcon:X,closeIcon:Q},methods:{sumUpCost(t){let o=0;this.productsInCart=t;for(const n of t)o+=n.count*n.cost;this.sum=o},sortItemsByCart(t){if(t.length){this.productsInCart=t;const o=t.filter((({id:t})=>this.items.some((({id:o})=>t===o))));for(let t=0;t<this.items.length;t++){const n=o.find((({id:o})=>o===this.items[t].id));n&&(this.items[t].count=n.count)}}},handleCartAction(){this.items.forEach((t=>{t.count=0}));const t=D();this.sumUpCost(t),this.sortItemsByCart(t)}},created(){this.items=j(),A();const t=D();this.sumUpCost(t),this.sortItemsByCart(t)}};const V=(0,x.Z)(R,[["render",m]]);var tt=V;(0,r.ri)(tt).mount("#app")}},o={};function n(r){var e=o[r];if(void 0!==e)return e.exports;var i=o[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(o,r,e,i){if(!r){var c=1/0;for(a=0;a<t.length;a++){r=t[a][0],e=t[a][1],i=t[a][2];for(var s=!0,u=0;u<r.length;u++)(!1&i||c>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(s=!1,i<c&&(c=i));if(s){t.splice(a--,1);var d=e();void 0!==d&&(o=d)}}return o}i=i||0;for(var a=t.length;a>0&&t[a-1][2]>i;a--)t[a]=t[a-1];t[a]=[r,e,i]}}(),function(){n.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(o,{a:o}),o}}(),function(){n.d=function(t,o){for(var r in o)n.o(o,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(o){return 0===t[o]};var o=function(o,r){var e,i,c=r[0],s=r[1],u=r[2],d=0;if(c.some((function(o){return 0!==t[o]}))){for(e in s)n.o(s,e)&&(n.m[e]=s[e]);if(u)var a=u(n)}for(o&&o(r);d<c.length;d++)i=c[d],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(a)},r=self["webpackChunkvue_test_task"]=self["webpackChunkvue_test_task"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(794)}));r=n.O(r)})();
//# sourceMappingURL=app.01f27ace.js.map
